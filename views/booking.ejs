<h2 class="mb-4">New Booking</h2>

<% if (booking) { %>
  <div class="card mb-4 mx-auto w-75 border-success shadow">
    <div class="card-header bg-success text-white">
      Booking Successful
    </div>
    <div class="card-body">
      <h5 class="card-title">Guest: <%= booking.guestName %></h5>
      <p class="card-text">Room Type: <%= booking.roomType.charAt(0).toUpperCase() + booking.roomType.slice(1) %></p>
      <p class="card-text">Check-In: <%= booking.checkIn %></p>
      <p class="card-text">Check-Out: <%= booking.checkOut %></p>
      <p class="card-text">Payment Status: <%= booking.paymentStatus.charAt(0).toUpperCase() + booking.paymentStatus.slice(1) %></p>
    </div>
  </div>
<% } %>

<form action="/booking" method="POST" class="w-75 mx-auto">
  <div class="mb-3">
    <label for="guestName" class="form-label">Guest Name</label>
    <input 
      type="text" 
      class="form-control" 
      id="guestName" 
      name="guestName" 
      required 
      placeholder="Enter guest's full name"
      value="<%= booking ? booking.guestName : '' %>"
    >
  </div>

  <div class="mb-3">
    <label for="roomType" class="form-label">Room Type</label>
    <select id="roomType" name="roomType" class="form-select" required>
      <option value="" disabled <%= !booking ? 'selected' : '' %>>Select a room type</option>
      <option value="single" <%= booking && booking.roomType === 'single' ? 'selected' : '' %>>Single</option>
      <option value="double" <%= booking && booking.roomType === 'double' ? 'selected' : '' %>>Double</option>
      <option value="suite" <%= booking && booking.roomType === 'suite' ? 'selected' : '' %>>Suite</option>
    </select>
  </div>

  <div class="mb-3">
    <label for="checkIn" class="form-label">Check-In Date</label>
    <input type="date" class="form-control" id="checkIn" name="checkIn" required value="<%= booking ? booking.checkIn : '' %>">
  </div>

  <div class="mb-3">
    <label for="checkOut" class="form-label">Check-Out Date</label>
    <input type="date" class="form-control" id="checkOut" name="checkOut" required value="<%= booking ? booking.checkOut : '' %>">
  </div>

  <div class="mb-3">
    <label for="paymentStatus" class="form-label">Payment Status</label>
    <select id="paymentStatus" name="paymentStatus" class="form-select" required>
      <option value="" disabled <%= !booking ? 'selected' : '' %>>Select payment status</option>
      <option value="pending" <%= booking && booking.paymentStatus === 'pending' ? 'selected' : '' %>>Pending</option>
      <option value="paid" <%= booking && booking.paymentStatus === 'paid' ? 'selected' : '' %>>Paid</option>
    </select>
  </div>

  <button type="submit" class="btn btn-primary">Submit Booking</button>
</form>
